var He=Object.defineProperty,Ae=Object.defineProperties;var Ye=Object.getOwnPropertyDescriptors;var ge=Object.getOwnPropertySymbols;var $e=Object.prototype.hasOwnProperty,Me=Object.prototype.propertyIsEnumerable;var ye=(n,e,a)=>e in n?He(n,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[e]=a,Ee=(n,e)=>{for(var a in e||(e={}))$e.call(e,a)&&ye(n,a,e[a]);if(ge)for(var a of ge(e))Me.call(e,a)&&ye(n,a,e[a]);return n},De=(n,e)=>Ae(n,Ye(e));import{Y as Ze,D as be,S as G,i as K,s as W,Z as Fe,e as y,t as O,k as B,w as X,c as E,a as b,h as U,d as m,m as S,x,b as _,f as Te,g as q,K as c,y as J,R as oe,_ as Pe,q as L,o as j,B as Q,T as Le,M as ie,v as we,I as Ie,j as ce,L as ue,z as Re,A as Ve,n as qe,p as je,$ as ke,C as ze,V as Ce,W as Ge,X as Ke}from"../chunks/vendor-a0c15b38.js";const Be=new Ze;Be.init("US");const We=Be.getHolidays(new Date().getFullYear()).map(n=>({date:new Date(n.date).toISOString(),type:"Holiday",name:n.name,image:"https://picsum.photos/100/100"})),ee=be([]),te=be({});function Xe(n){let e,a,r,o,i,h,u,p,l,v,s,d,t,f,g,w,D,T,H,R,A,V,$,ae,ne,P,le,se,M,Z,F,re,de;return Z=new Fe({props:{accept:"image/*",multiple:!1,containerStyles:`;
        padding: 0;
        height: 196px;
        width: 196px;
        background-color:var(--background-color);
        `}}),Z.$on("drop",n[3]),{c(){e=y("div"),a=y("form"),r=y("div"),o=y("button"),i=O("New Event"),h=B(),u=y("input"),l=B(),v=y("input"),d=B(),t=y("input"),g=B(),w=y("datalist"),D=y("option"),T=O("Type"),H=y("option"),R=O("Holiday"),A=y("option"),V=O("Birthday"),$=y("option"),ae=O("Anniversary"),ne=B(),P=y("button"),le=O("Save"),se=B(),M=y("div"),X(Z.$$.fragment),this.h()},l(k){e=E(k,"DIV",{});var N=b(e);a=E(N,"FORM",{class:!0});var Y=b(a);r=E(Y,"DIV",{class:!0});var I=b(r);o=E(I,"BUTTON",{type:!0});var z=b(o);i=U(z,"New Event"),z.forEach(m),h=S(I),u=E(I,"INPUT",{id:!0,type:!0,name:!0,class:!0}),l=S(I),v=E(I,"INPUT",{id:!0,type:!0,list:!0,class:!0}),d=S(I),t=E(I,"INPUT",{id:!0,type:!0,name:!0,placeholder:!0,class:!0}),g=S(I),w=E(I,"DATALIST",{id:!0});var C=b(w);D=E(C,"OPTION",{});var he=b(D);T=U(he,"Type"),he.forEach(m),H=E(C,"OPTION",{});var ve=b(H);R=U(ve,"Holiday"),ve.forEach(m),A=E(C,"OPTION",{});var _e=b(A);V=U(_e,"Birthday"),_e.forEach(m),$=E(C,"OPTION",{});var me=b($);ae=U(me,"Anniversary"),me.forEach(m),C.forEach(m),ne=S(I),P=E(I,"BUTTON",{type:!0});var pe=b(P);le=U(pe,"Save"),pe.forEach(m),I.forEach(m),se=S(Y),M=E(Y,"DIV",{class:!0,style:!0});var fe=b(M);x(Z.$$.fragment,fe),fe.forEach(m),Y.forEach(m),N.forEach(m),this.h()},h(){var k,N,Y;_(o,"type","button"),_(u,"id","event-date"),_(u,"type","date"),_(u,"name","date"),u.value=p=(N=(k=n[0].date)==null?void 0:k.slice(0,10))!=null?N:"YYYY-MM-DD",_(u,"class","svelte-18y0otl"),_(v,"id","event-type"),_(v,"type","text"),_(v,"list","types"),v.value=s=(Y=n[0].type)!=null?Y:"",_(v,"class","svelte-18y0otl"),_(t,"id","event-name"),_(t,"type","text"),_(t,"name","name"),_(t,"placeholder","Name"),t.value=f=n[0].name,_(t,"class","svelte-18y0otl"),D.__value="",D.value=D.__value,H.__value="Holiday",H.value=H.__value,A.__value="Birthday",A.value=A.__value,$.__value="Anniversary",$.value=$.__value,_(w,"id","types"),_(P,"type","button"),_(r,"class","text-input svelte-18y0otl"),_(M,"class","image-input svelte-18y0otl"),Te(M,"background-image","url("+n[2]+")"),_(a,"class","svelte-18y0otl")},m(k,N){q(k,e,N),c(e,a),c(a,r),c(r,o),c(o,i),c(r,h),c(r,u),c(r,l),c(r,v),c(r,d),c(r,t),c(r,g),c(r,w),c(w,D),c(D,T),c(w,H),c(H,R),c(w,A),c(A,V),c(w,$),c($,ae),c(r,ne),c(r,P),c(P,le),c(a,se),c(a,M),J(Z,M,null),F=!0,re||(de=[oe(o,"click",function(){Pe(n[1])&&n[1].apply(this,arguments)}),oe(P,"click",n[4])],re=!0)},p(k,[N]){var Y,I,z;n=k,(!F||N&1&&p!==(p=(I=(Y=n[0].date)==null?void 0:Y.slice(0,10))!=null?I:"YYYY-MM-DD"))&&(u.value=p),(!F||N&1&&s!==(s=(z=n[0].type)!=null?z:"")&&v.value!==s)&&(v.value=s),(!F||N&1&&f!==(f=n[0].name)&&t.value!==f)&&(t.value=f),(!F||N&4)&&Te(M,"background-image","url("+n[2]+")")},i(k){F||(L(Z.$$.fragment,k),F=!0)},o(k){j(Z.$$.fragment,k),F=!1},d(k){k&&m(e),Q(Z),re=!1,Le(de)}}}function xe(n,e,a){let r,o,i;ie(n,te,l=>a(0,o=l)),ie(n,ee,l=>a(5,i=l));function h(l){const v=l.detail.acceptedFiles[0],s=new FileReader;s.onload=d=>{a(2,r=d.target.result)},s.readAsDataURL(v)}let u;we(()=>{a(1,u=()=>{te.set({id:window.crypto.randomUUID(),date:new Date().toISOString(),type:"",name:"",image:"https://picsum.photos/100/100"})})});const p=()=>{te.set({id:o.id,date:document.getElementById("event-date").value+" 00:00:00",type:document.getElementById("event-type").value,name:document.getElementById("event-name").value,image:r});const l=i.findIndex(v=>v.id===o.id);ee.update(v=>(l>-1?v[l]=o:v.push(o),v.sort((s,d)=>{const t=s.date.replace(/^(\d{4})/,"2022"),f=d.date.replace(/^(\d{4})/,"2022");return new Date(t)-new Date(f)}),v))};return n.$$.update=()=>{n.$$.dirty&1&&a(2,r=o.image)},[o,u,r,h,p]}class Je extends G{constructor(e){super();K(this,e,xe,Xe,W,{})}}function Qe(n){let e,a,r=new Date(n[1]).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})+"",o,i,h,u,p,l,v,s,d,t,f,g,w;return{c(){e=y("tr"),a=y("td"),o=O(r),i=B(),h=y("td"),u=O(n[2]),p=B(),l=y("td"),v=O(n[3]),s=B(),d=y("td"),t=y("img"),this.h()},l(D){e=E(D,"TR",{class:!0});var T=b(e);a=E(T,"TD",{class:!0});var H=b(a);o=U(H,r),H.forEach(m),i=S(T),h=E(T,"TD",{class:!0});var R=b(h);u=U(R,n[2]),R.forEach(m),p=S(T),l=E(T,"TD",{class:!0});var A=b(l);v=U(A,n[3]),A.forEach(m),s=S(T),d=E(T,"TD",{class:!0});var V=b(d);t=E(V,"IMG",{src:!0,alt:!0,class:!0}),V.forEach(m),T.forEach(m),this.h()},h(){_(a,"class","svelte-ikn64x"),_(h,"class","svelte-ikn64x"),_(l,"class","svelte-ikn64x"),Ie(t.src,f=n[4])||_(t,"src",f),_(t,"alt",n[3]),_(t,"class","svelte-ikn64x"),_(d,"class","svelte-ikn64x"),_(e,"class","svelte-ikn64x")},m(D,T){q(D,e,T),c(e,a),c(a,o),c(e,i),c(e,h),c(h,u),c(e,p),c(e,l),c(l,v),c(e,s),c(e,d),c(d,t),g||(w=oe(e,"click",n[5]),g=!0)},p(D,[T]){T&2&&r!==(r=new Date(D[1]).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})+"")&&ce(o,r),T&4&&ce(u,D[2]),T&8&&ce(v,D[3]),T&16&&!Ie(t.src,f=D[4])&&_(t,"src",f),T&8&&_(t,"alt",D[3])},i:ue,o:ue,d(D){D&&m(e),g=!1,w()}}}function et(n,e,a){let{id:r}=e,{date:o}=e,{type:i}=e,{name:h}=e,{image:u}=e;const p=()=>te.set({id:r,date:o,type:i,name:h,image:u});return n.$$set=l=>{"id"in l&&a(0,r=l.id),"date"in l&&a(1,o=l.date),"type"in l&&a(2,i=l.type),"name"in l&&a(3,h=l.name),"image"in l&&a(4,u=l.image)},[r,o,i,h,u,p]}class tt extends G{constructor(e){super();K(this,e,et,Qe,W,{id:0,date:1,type:2,name:3,image:4})}}function Se(n,e,a){const r=n.slice();return r[2]=e[a],r}function Ne(n,e,a){const r=n.slice();return r[5]=e[a],r}function Oe(n){let e,a=n[5]+"",r;return{c(){e=y("th"),r=O(a)},l(o){e=E(o,"TH",{});var i=b(e);r=U(i,a),i.forEach(m)},m(o,i){q(o,e,i),c(e,r)},p:ue,d(o){o&&m(e)}}}function Ue(n){let e,a;const r=[n[2]];let o={};for(let i=0;i<r.length;i+=1)o=ze(o,r[i]);return e=new tt({props:o}),{c(){X(e.$$.fragment)},l(i){x(e.$$.fragment,i)},m(i,h){J(e,i,h),a=!0},p(i,h){const u=h&1?Re(r,[Ve(i[2])]):{};e.$set(u)},i(i){a||(L(e.$$.fragment,i),a=!0)},o(i){j(e.$$.fragment,i),a=!1},d(i){Q(e,i)}}}function at(n){let e,a,r,o,i,h=n[1],u=[];for(let s=0;s<h.length;s+=1)u[s]=Oe(Ne(n,h,s));let p=n[0],l=[];for(let s=0;s<p.length;s+=1)l[s]=Ue(Se(n,p,s));const v=s=>j(l[s],1,1,()=>{l[s]=null});return{c(){e=y("table"),a=y("thead");for(let s=0;s<u.length;s+=1)u[s].c();r=B(),o=y("tbody");for(let s=0;s<l.length;s+=1)l[s].c();this.h()},l(s){e=E(s,"TABLE",{class:!0});var d=b(e);a=E(d,"THEAD",{});var t=b(a);for(let g=0;g<u.length;g+=1)u[g].l(t);t.forEach(m),r=S(d),o=E(d,"TBODY",{});var f=b(o);for(let g=0;g<l.length;g+=1)l[g].l(f);f.forEach(m),d.forEach(m),this.h()},h(){_(e,"class","svelte-1w5bhrs")},m(s,d){q(s,e,d),c(e,a);for(let t=0;t<u.length;t+=1)u[t].m(a,null);c(e,r),c(e,o);for(let t=0;t<l.length;t+=1)l[t].m(o,null);i=!0},p(s,[d]){if(d&2){h=s[1];let t;for(t=0;t<h.length;t+=1){const f=Ne(s,h,t);u[t]?u[t].p(f,d):(u[t]=Oe(f),u[t].c(),u[t].m(a,null))}for(;t<u.length;t+=1)u[t].d(1);u.length=h.length}if(d&1){p=s[0];let t;for(t=0;t<p.length;t+=1){const f=Se(s,p,t);l[t]?(l[t].p(f,d),L(l[t],1)):(l[t]=Ue(f),l[t].c(),L(l[t],1),l[t].m(o,null))}for(qe(),t=p.length;t<l.length;t+=1)v(t);je()}},i(s){if(!i){for(let d=0;d<p.length;d+=1)L(l[d]);i=!0}},o(s){l=l.filter(Boolean);for(let d=0;d<l.length;d+=1)j(l[d]);i=!1},d(s){s&&m(e),ke(u,s),ke(l,s)}}}function nt(n,e,a){let r=["Date","Type","Name","Image"],{entries:o}=e;return n.$$set=i=>{"entries"in i&&a(0,o=i.entries)},[o,r]}class lt extends G{constructor(e){super();K(this,e,nt,at,W,{entries:0})}}function st(n){let e,a,r,o,i,h,u,p,l,v,s,d;return h=new Je({}),s=new lt({props:{entries:n[0]}}),{c(){e=B(),a=y("div"),r=y("h1"),o=O("Event Editor"),i=B(),X(h.$$.fragment),u=B(),p=y("h1"),l=O("Holidays"),v=B(),X(s.$$.fragment),this.h()},l(t){Ce('[data-svelte="svelte-kbjtp0"]',document.head).forEach(m),e=S(t),a=E(t,"DIV",{class:!0});var g=b(a);r=E(g,"H1",{});var w=b(r);o=U(w,"Event Editor"),w.forEach(m),i=S(g),x(h.$$.fragment,g),u=S(g),p=E(g,"H1",{});var D=b(p);l=U(D,"Holidays"),D.forEach(m),v=S(g),x(s.$$.fragment,g),g.forEach(m),this.h()},h(){document.title="Data",_(a,"class","content svelte-cf77e8")},m(t,f){q(t,e,f),q(t,a,f),c(a,r),c(r,o),c(a,i),J(h,a,null),c(a,u),c(a,p),c(p,l),c(a,v),J(s,a,null),d=!0},p(t,[f]){const g={};f&1&&(g.entries=t[0]),s.$set(g)},i(t){d||(L(h.$$.fragment,t),L(s.$$.fragment,t),d=!0)},o(t){j(h.$$.fragment,t),j(s.$$.fragment,t),d=!1},d(t){t&&m(e),t&&m(a),Q(h),Q(s)}}}function rt(n,e,a){let r;ie(n,ee,l=>a(0,r=l));const o=Ge,i=Ke;let h=We,u=[{date:"1960-01-02T00:00:00Z",type:"Birthday",name:"Dad",image:"https://picsum.photos/100/100"},{date:"1961-03-04T00:00:00Z",type:"Birthday",name:"Mom",image:"https://picsum.photos/100/100"},{date:"1962-05-06T00:00:00Z",type:"Birthday",name:"Zoey",image:"https://picsum.photos/100/100"},{date:"1963-07-08T00:00:00Z",type:"Birthday",name:"Frankie",image:"https://picsum.photos/100/100"}],p=[{date:"1961-09-10T00:00:00Z",type:"Anniversary",name:"Mom & Dad",image:"https://picsum.photos/100/100"},{date:"1910-11-12T00:00:00Z",type:"Anniversary",name:"Aunt & Uncle",image:"https://picsum.photos/100/100"}];return we(()=>{let l=[...h,...u,...p].map(v=>De(Ee({},v),{id:window.crypto.randomUUID()}));l.sort((v,s)=>{const d=v.date.replace(/^(\d{4})/,"2022"),t=s.date.replace(/^(\d{4})/,"2022");return new Date(d)-new Date(t)}),ee.set(l)}),[r,o,i]}class ct extends G{constructor(e){super();K(this,e,rt,st,W,{hydrate:1,router:2})}get hydrate(){return this.$$.ctx[1]}get router(){return this.$$.ctx[2]}}export{ct as default};
